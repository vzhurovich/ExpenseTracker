{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import{Toaster}from'react-hot-toast';import{AuthProvider,useAuth}from'./contexts/AuthContext';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import SubmitExpense from'./pages/SubmitExpense';import AdminDashboard from'./pages/AdminDashboard';import MyExpenses from'./pages/MyExpenses';import Layout from'./components/Layout';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children,requireAdmin=false}=_ref;const{user,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center min-h-screen\",children:\"Loading...\"});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});}if(requireAdmin&&user.role!=='admin'){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"});}return/*#__PURE__*/_jsx(_Fragment,{children:children});};function App(){return/*#__PURE__*/_jsx(AuthProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gray-50\",children:[/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(Dashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/submit-expense\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(SubmitExpense,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/my-expenses\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(MyExpenses,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:/*#__PURE__*/_jsx(PrivateRoute,{requireAdmin:true,children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(AdminDashboard,{})})})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"})})]}),/*#__PURE__*/_jsx(Toaster,{position:\"top-right\"})]})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Toaster","AuthProvider","useAuth","Login","Register","Dashboard","SubmitExpense","AdminDashboard","MyExpenses","Layout","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PrivateRoute","_ref","children","requireAdmin","user","loading","className","to","role","App","path","element","position"],"sources":["/Users/uzhurovich/Learning/MyProjects/ExpenseTracker/client/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport { Toaster } from 'react-hot-toast';\nimport { AuthProvider, useAuth } from './contexts/AuthContext';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport SubmitExpense from './pages/SubmitExpense';\nimport AdminDashboard from './pages/AdminDashboard';\nimport MyExpenses from './pages/MyExpenses';\nimport Layout from './components/Layout';\n\nconst PrivateRoute: React.FC<{ children: React.ReactNode; requireAdmin?: boolean }> = ({ \n  children, \n  requireAdmin = false \n}) => {\n  const { user, loading } = useAuth();\n\n  if (loading) {\n    return <div className=\"flex items-center justify-center min-h-screen\">Loading...</div>;\n  }\n\n  if (!user) {\n    return <Navigate to=\"/login\" />;\n  }\n\n  if (requireAdmin && user.role !== 'admin') {\n    return <Navigate to=\"/dashboard\" />;\n  }\n\n  return <>{children}</>;\n};\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <div className=\"min-h-screen bg-gray-50\">\n          <Routes>\n            <Route path=\"/login\" element={<Login />} />\n            <Route path=\"/register\" element={<Register />} />\n            <Route path=\"/dashboard\" element={\n              <PrivateRoute>\n                <Layout>\n                  <Dashboard />\n                </Layout>\n              </PrivateRoute>\n            } />\n            <Route path=\"/submit-expense\" element={\n              <PrivateRoute>\n                <Layout>\n                  <SubmitExpense />\n                </Layout>\n              </PrivateRoute>\n            } />\n            <Route path=\"/my-expenses\" element={\n              <PrivateRoute>\n                <Layout>\n                  <MyExpenses />\n                </Layout>\n              </PrivateRoute>\n            } />\n            <Route path=\"/admin\" element={\n              <PrivateRoute requireAdmin>\n                <Layout>\n                  <AdminDashboard />\n                </Layout>\n              </PrivateRoute>\n            } />\n            <Route path=\"/\" element={<Navigate to=\"/dashboard\" />} />\n          </Routes>\n          <Toaster position=\"top-right\" />\n        </div>\n      </Router>\n    </AuthProvider>\n  );\n}\n\nexport default App; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,OAASC,OAAO,KAAQ,iBAAiB,CACzC,OAASC,YAAY,CAAEC,OAAO,KAAQ,wBAAwB,CAC9D,MAAO,CAAAC,KAAK,KAAM,eAAe,CACjC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,aAAa,KAAM,uBAAuB,CACjD,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAC3C,MAAO,CAAAC,MAAM,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEzC,KAAM,CAAAC,YAA6E,CAAGC,IAAA,EAGhF,IAHiF,CACrFC,QAAQ,CACRC,YAAY,CAAG,KACjB,CAAC,CAAAF,IAAA,CACC,KAAM,CAAEG,IAAI,CAAEC,OAAQ,CAAC,CAAGnB,OAAO,CAAC,CAAC,CAEnC,GAAImB,OAAO,CAAE,CACX,mBAAOV,IAAA,QAAKW,SAAS,CAAC,+CAA+C,CAAAJ,QAAA,CAAC,YAAU,CAAK,CAAC,CACxF,CAEA,GAAI,CAACE,IAAI,CAAE,CACT,mBAAOT,IAAA,CAACZ,QAAQ,EAACwB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACjC,CAEA,GAAIJ,YAAY,EAAIC,IAAI,CAACI,IAAI,GAAK,OAAO,CAAE,CACzC,mBAAOb,IAAA,CAACZ,QAAQ,EAACwB,EAAE,CAAC,YAAY,CAAE,CAAC,CACrC,CAEA,mBAAOZ,IAAA,CAAAE,SAAA,EAAAK,QAAA,CAAGA,QAAQ,CAAG,CAAC,CACxB,CAAC,CAED,QAAS,CAAAO,GAAGA,CAAA,CAAG,CACb,mBACEd,IAAA,CAACV,YAAY,EAAAiB,QAAA,cACXP,IAAA,CAACf,MAAM,EAAAsB,QAAA,cACLH,KAAA,QAAKO,SAAS,CAAC,yBAAyB,CAAAJ,QAAA,eACtCH,KAAA,CAAClB,MAAM,EAAAqB,QAAA,eACLP,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAAEhB,IAAA,CAACR,KAAK,GAAE,CAAE,CAAE,CAAC,cAC3CQ,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,WAAW,CAACC,OAAO,cAAEhB,IAAA,CAACP,QAAQ,GAAE,CAAE,CAAE,CAAC,cACjDO,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,YAAY,CAACC,OAAO,cAC9BhB,IAAA,CAACK,YAAY,EAAAE,QAAA,cACXP,IAAA,CAACF,MAAM,EAAAS,QAAA,cACLP,IAAA,CAACN,SAAS,GAAE,CAAC,CACP,CAAC,CACG,CACf,CAAE,CAAC,cACJM,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,iBAAiB,CAACC,OAAO,cACnChB,IAAA,CAACK,YAAY,EAAAE,QAAA,cACXP,IAAA,CAACF,MAAM,EAAAS,QAAA,cACLP,IAAA,CAACL,aAAa,GAAE,CAAC,CACX,CAAC,CACG,CACf,CAAE,CAAC,cACJK,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,cAAc,CAACC,OAAO,cAChChB,IAAA,CAACK,YAAY,EAAAE,QAAA,cACXP,IAAA,CAACF,MAAM,EAAAS,QAAA,cACLP,IAAA,CAACH,UAAU,GAAE,CAAC,CACR,CAAC,CACG,CACf,CAAE,CAAC,cACJG,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,QAAQ,CAACC,OAAO,cAC1BhB,IAAA,CAACK,YAAY,EAACG,YAAY,MAAAD,QAAA,cACxBP,IAAA,CAACF,MAAM,EAAAS,QAAA,cACLP,IAAA,CAACJ,cAAc,GAAE,CAAC,CACZ,CAAC,CACG,CACf,CAAE,CAAC,cACJI,IAAA,CAACb,KAAK,EAAC4B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEhB,IAAA,CAACZ,QAAQ,EAACwB,EAAE,CAAC,YAAY,CAAE,CAAE,CAAE,CAAC,EACnD,CAAC,cACTZ,IAAA,CAACX,OAAO,EAAC4B,QAAQ,CAAC,WAAW,CAAE,CAAC,EAC7B,CAAC,CACA,CAAC,CACG,CAAC,CAEnB,CAEA,cAAe,CAAAH,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}